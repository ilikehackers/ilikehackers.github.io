// ==UserScript==
// @name         Krunker.IO Aimbot & ESP
// @namespace    http://tampermonkey.net/
// @version      0.1.8
// @description  Locks aim to the nearest player in krunker.io and shows players behind walls. Also shows a line between you and them.
// @author       Zertalious (Zert)
// @match        *://krunker.io/*
// @exclude      *://krunker.io/social*
// @exclude      *://krunker.io/editor*
// @icon         https://www.google.com/s2/favicons?domain=krunker.io
// @grant        none
// @run-at       document-end
// @require      https://unpkg.com/three@latest/build/three.min.js
// @antifeature  ads
// ==/UserScript==

const _0x41864a=_0x1ced;(function(_0x1a0466,_0x419353){const _0x575bf7=_0x1ced,_0x46ae27=_0x1a0466();while(!![]){try{const _0x547564=-parseInt(_0x575bf7(0x1b7))/0x1+parseInt(_0x575bf7(0x1c8))/0x2*(-parseInt(_0x575bf7(0x1bd))/0x3)+parseInt(_0x575bf7(0x190))/0x4+-parseInt(_0x575bf7(0x1c7))/0x5+parseInt(_0x575bf7(0x1bf))/0x6*(-parseInt(_0x575bf7(0x1c5))/0x7)+parseInt(_0x575bf7(0x1cb))/0x8+parseInt(_0x575bf7(0x17d))/0x9;if(_0x547564===_0x419353)break;else _0x46ae27['push'](_0x46ae27['shift']());}catch(_0x330ac7){_0x46ae27['push'](_0x46ae27['shift']());}}}(_0x481b,0xe26ad));let espEnabled=!![],aimbotEnabled=!![],aimbotOnRightMouse=![],espLinesEnabled=!![];const tempVector=new THREE[(_0x41864a(0x1a5))](),tempObject=new THREE['Object3D']();tempObject[_0x41864a(0x1bc)][_0x41864a(0x1a3)]=_0x41864a(0x195);const geometry=new THREE[(_0x41864a(0x1a6))](new THREE[(_0x41864a(0x191))](0x5,0xf,0x5)[_0x41864a(0x1c6)](0x0,7.5,0x0)),material=new THREE[(_0x41864a(0x178))]({'vertexShader':'\x0a\x0a\x09attribute\x20vec3\x20position;\x0a\x0a\x09uniform\x20mat4\x20projectionMatrix;\x0a\x09uniform\x20mat4\x20modelViewMatrix;\x0a\x0a\x09void\x20main()\x20{\x0a\x0a\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09gl_Position.z\x20=\x201.0;\x0a\x0a\x09}\x0a\x0a\x09','fragmentShader':_0x41864a(0x194)});let scene;const old=WeakMap[_0x41864a(0x193)][_0x41864a(0x186)];WeakMap[_0x41864a(0x193)][_0x41864a(0x186)]=function(_0x15e400){const _0x41953c=_0x41864a;return _0x15e400[_0x41953c(0x1b8)]==='Scene'&&_0x15e400[_0x41953c(0x1cd)]==='Main'&&(scene=_0x15e400),old[_0x41953c(0x18f)](this,arguments);};const line=new THREE['LineSegments'](new THREE['BufferGeometry'](),material);line['frustumCulled']=![];const linePositions=new THREE[(_0x41864a(0x1cf))](new Float32Array(0x64*0x2*0x3),0x3);line['geometry'][_0x41864a(0x189)](_0x41864a(0x184),linePositions);function _0x1ced(_0x2b421e,_0x3e6c4a){const _0x481ba2=_0x481b();return _0x1ced=function(_0x1ced7e,_0x2b73f8){_0x1ced7e=_0x1ced7e-0x178;let _0x4ac889=_0x481ba2[_0x1ced7e];return _0x4ac889;},_0x1ced(_0x2b421e,_0x3e6c4a);}function animate(){const _0x168ca5=_0x41864a;window['requestAnimationFrame'](animate);if(typeof shouldShowAd==='undefined'||shouldShowAd===!![]||scene===undefined)return;const _0x5c4f02=[];let _0x24b965;for(let _0x12612c=0x0;_0x12612c<scene[_0x168ca5(0x1b2)]['length'];_0x12612c++){const _0x4ead88=scene[_0x168ca5(0x1b2)][_0x12612c];if(_0x4ead88[_0x168ca5(0x1b8)]===_0x168ca5(0x1af))try{_0x4ead88[_0x168ca5(0x1b2)][0x0]['children'][0x0][_0x168ca5(0x1b8)]===_0x168ca5(0x1a2)?_0x24b965=_0x4ead88:_0x5c4f02[_0x168ca5(0x17a)](_0x4ead88);}catch(_0x4e98bc){}}let _0x261e21=0x0,_0x1ff00b,_0x5d49f9=Infinity;tempObject['matrix']['copy'](_0x24b965['matrix'])[_0x168ca5(0x1a9)]();for(let _0x9cc121=0x0;_0x9cc121<_0x5c4f02[_0x168ca5(0x1d0)];_0x9cc121++){const _0x599f2b=_0x5c4f02[_0x9cc121];if(!_0x599f2b[_0x168ca5(0x18e)]){const _0x4c72f6=new THREE[(_0x168ca5(0x1b0))](geometry,material);_0x4c72f6['frustumCulled']=![],_0x599f2b[_0x168ca5(0x1b9)](_0x4c72f6),_0x599f2b['box']=_0x4c72f6;}if(_0x599f2b[_0x168ca5(0x184)]['x']===_0x24b965[_0x168ca5(0x184)]['x']&&_0x599f2b['position']['z']===_0x24b965['position']['z']){_0x599f2b[_0x168ca5(0x18e)][_0x168ca5(0x183)]=![];line[_0x168ca5(0x18d)]!==_0x599f2b&&_0x599f2b[_0x168ca5(0x1b9)](line);continue;}linePositions[_0x168ca5(0x1ba)](_0x261e21++,0x0,0xa,-0x5),tempVector[_0x168ca5(0x19e)](_0x599f2b['position']),tempVector['y']+=0x9,tempVector[_0x168ca5(0x188)](tempObject[_0x168ca5(0x1a4)]),linePositions['setXYZ'](_0x261e21++,tempVector['x'],tempVector['y'],tempVector['z']),_0x599f2b[_0x168ca5(0x183)]=espEnabled||_0x599f2b['visible'],_0x599f2b[_0x168ca5(0x18e)][_0x168ca5(0x183)]=espEnabled;const _0x1a5e4e=_0x599f2b['position'][_0x168ca5(0x1aa)](_0x24b965[_0x168ca5(0x184)]);_0x1a5e4e<_0x5d49f9&&(_0x1ff00b=_0x599f2b,_0x5d49f9=_0x1a5e4e);}linePositions[_0x168ca5(0x1ac)]=!![],line[_0x168ca5(0x19d)][_0x168ca5(0x180)](0x0,_0x261e21),line[_0x168ca5(0x183)]=espLinesEnabled;if(aimbotEnabled===![]||aimbotOnRightMouse&&!rightMouseDown||_0x1ff00b===undefined)return;tempVector[_0x168ca5(0x197)](0x0),_0x1ff00b[_0x168ca5(0x1b2)][0x0][_0x168ca5(0x1b2)][0x0][_0x168ca5(0x1a8)](tempVector),tempObject[_0x168ca5(0x184)][_0x168ca5(0x19e)](_0x24b965[_0x168ca5(0x184)]),tempObject[_0x168ca5(0x1a7)](tempVector),_0x24b965[_0x168ca5(0x1b2)][0x0]['rotation']['x']=-tempObject['rotation']['x'],_0x24b965[_0x168ca5(0x1bc)]['y']=tempObject['rotation']['y']+Math['PI'];}const value=parseInt(new URLSearchParams(window[_0x41864a(0x1b1)][_0x41864a(0x18c)])[_0x41864a(0x186)]('showAd'),0x10),shouldShowAd=![],el=document[_0x41864a(0x1ad)](_0x41864a(0x1b4));el[_0x41864a(0x1a1)]='<style>\x0a\x0a.dialog\x20{\x0a\x09position:\x20absolute;\x0a\x09left:\x2050%;\x0a\x09top:\x2050%;\x0a\x09padding:\x2020px;\x0a\x09background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x09border:\x206px\x20solid\x20rgba(0,\x200,\x200,\x200.2);\x0a\x09color:\x20#fff;\x0a\x09transform:\x20translate(-50%,\x20-50%);\x0a\x09text-align:\x20center;\x0a\x09z-index:\x20999999;\x0a}\x0a\x0a.dialog\x20*\x20{\x0a\x09color:\x20#fff;\x0a}\x0a\x0a.close\x20{\x0a\x09position:\x20absolute;\x0a\x09right:\x205px;\x0a\x09top:\x205px;\x0a\x09width:\x2020px;\x0a\x09height:\x2020px;\x0a\x09opacity:\x200.5;\x0a\x09cursor:\x20pointer;\x0a}\x0a\x0a.close:before,\x20.close:after\x20{\x0a\x09content:\x20\x27\x20\x27;\x0a\x09position:\x20absolute;\x0a\x09left:\x2050%;\x0a\x09top:\x2050%;\x0a\x09width:\x20100%;\x0a\x09height:\x2020%;\x0a\x09transform:\x20translate(-50%,\x20-50%)\x20rotate(-45deg);\x0a\x09background:\x20#fff;\x0a}\x0a\x0a.close:after\x20{\x0a\x09transform:\x20translate(-50%,\x20-50%)\x20rotate(45deg);\x0a}\x0a\x0a.close:hover\x20{\x0a\x09opacity:\x201;\x0a}\x0a\x0a.btn\x20{\x0a\x09cursor:\x20pointer;\x0a\x09padding:\x200.5em;\x0a\x09background:\x20red;\x0a\x09border:\x203px\x20solid\x20rgba(0,\x200,\x200,\x200.2);\x0a}\x0a\x0a.btn:active\x20{\x0a\x09transform:\x20scale(0.8);\x0a}\x0a\x0a.msg\x20{\x0a\x09position:\x20absolute;\x0a\x09left:\x2010px;\x0a\x09bottom:\x2010px;\x0a\x09color:\x20#fff;\x0a\x09background:\x20rgba(0,\x200,\x200,\x200.6);\x0a\x09font-weight:\x20bolder;\x0a\x09padding:\x2015px;\x0a\x09animation:\x20msg\x200.5s\x20forwards,\x20msg\x200.5s\x20reverse\x20forwards\x203s;\x0a\x09z-index:\x20999999;\x0a\x09pointer-events:\x20none;\x0a}\x0a\x0a@keyframes\x20msg\x20{\x0a\x09from\x20{\x0a\x09\x09transform:\x20translate(-120%,\x200);\x0a\x09}\x0a\x0a\x09to\x20{\x0a\x09\x09transform:\x20none;\x0a\x09}\x0a}\x0a\x0a</style>\x0a<div\x20class=\x22msg\x22\x20style=\x22display:\x20none;\x22></div>\x0a<div\x20class=\x22dialog\x22>'+(shouldShowAd?_0x41864a(0x1ab):_0x41864a(0x1bb))+_0x41864a(0x1a0);const msgEl=el[_0x41864a(0x19b)](_0x41864a(0x198)),dialogEl=el[_0x41864a(0x19b)](_0x41864a(0x1c9));while(el[_0x41864a(0x1b2)][_0x41864a(0x1d0)]>0x0){document[_0x41864a(0x196)][_0x41864a(0x17f)](el[_0x41864a(0x1b2)][0x0]);}if(shouldShowAd){const url=new URL(window[_0x41864a(0x1b1)][_0x41864a(0x1b3)]);url[_0x41864a(0x1be)][_0x41864a(0x19c)](_0x41864a(0x1ce),Date['now']()[_0x41864a(0x181)](0x10)),url[_0x41864a(0x1be)]['set'](_0x41864a(0x17e),GM['info'][_0x41864a(0x19a)][_0x41864a(0x1c4)]),window[_0x41864a(0x1b1)][_0x41864a(0x1b3)]=_0x41864a(0x1cc)+new TextEncoder()[_0x41864a(0x1c0)](url['href'])[_0x41864a(0x181)]();}function _0x481b(){const _0xb68452=['style','21076317MDydFa','scriptVersion','appendChild','setDrawRange','toString','pointerdown','visible','position','https://krunkercentral.com/kc-ads','get','KeyH','applyMatrix4','setAttribute','none','ESP','search','parent','box','apply','3242128RNGolc','BoxGeometry','keyup','prototype','\x0a\x0a\x09void\x20main()\x20{\x0a\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x201.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x0a\x09}\x0a\x0a\x09','YXZ','body','setScalar','.msg','_blank','script','querySelector','set','geometry','copy','display','\x0a</div>','innerHTML','PerspectiveCamera','order','matrix','Vector3','EdgesGeometry','lookAt','localToWorld','invert','distanceTo','<big>Loading\x20ad...</big>','needsUpdate','createElement','addEventListener','Object3D','LineSegments','location','children','href','div','OFF','KeyV','1097891bYGaAu','type','add','setXYZ','<div\x20class=\x22close\x22\x20onclick=\x22this.parentNode.style.display=\x27none\x27;\x22></div>\x0a\x09<big>==\x20Aimbot\x20&\x20ESP\x20==</big>\x0a\x09<br>\x0a\x09<br>\x0a\x09[B]\x20to\x20toggle\x20aimbot\x0a\x09<br>\x0a\x09[V]\x20to\x20toggle\x20ESP\x0a\x09<br>\x0a\x09[N]\x20to\x20toggle\x20ESP\x20Lines\x0a\x09<br>\x0a\x09[L]\x20to\x20toggle\x20aimbot\x20on\x20<br>right\x20mouse\x20hold\x0a\x09<br>\x0a\x09[H]\x20to\x20show/hide\x20help\x0a\x09<br>\x0a\x09<br>\x0a\x09By\x20Zertalious\x0a\x09<br>\x0a\x09<br>\x0a\x09<div\x20style=\x22display:\x20grid;\x20grid-template-columns:\x201fr\x201fr;\x20grid-gap:\x205px;\x22>\x0a\x09\x09<div\x20class=\x22btn\x22\x20onclick=\x22window.open(\x27https://discord.com/invite/CXkctBENGD\x27,\x20\x27_blank\x27)\x22>Discord</div>\x0a\x09\x09<div\x20class=\x22btn\x22\x20onclick=\x22window.open(\x27https://twitter.com/KrunkerCentre\x27,\x20\x27_blank\x27)\x22>Twitter</div>\x0a\x09\x09<div\x20class=\x22btn\x22\x20onclick=\x22window.open(\x27https://krunkercentral.com/\x27,\x20\x27_blank\x27)\x22>More\x20scripts</div>\x0a\x09</div>\x0a\x09','rotation','2838iJABiM','searchParams','855348Wxhjqg','encode','ESP\x20Lines','KeyB','code','version','35TgFDef','translate','2463050rqKSRr','2174zNDqQe','.dialog','innerText','8853224pRFsDc','https://zertalious.xyz?ref=','name','showAd','BufferAttribute','length','RawShaderMaterial','pointerup','push','KeyN'];_0x481b=function(){return _0xb68452;};return _0x481b();}let rightMouseDown=![];function handleMouse(_0x4eb442){const _0x3bf0a4=_0x41864a;_0x4eb442['button']===0x2&&(rightMouseDown=_0x4eb442[_0x3bf0a4(0x1b8)]===_0x3bf0a4(0x182)?!![]:![]);}window[_0x41864a(0x1ae)](_0x41864a(0x182),handleMouse),window[_0x41864a(0x1ae)](_0x41864a(0x179),handleMouse),window[_0x41864a(0x1ae)](_0x41864a(0x192),function(_0x24d583){const _0x5b137b=_0x41864a;switch(_0x24d583[_0x5b137b(0x1c3)]){case _0x5b137b(0x1b6):espEnabled=!espEnabled,showMsg(_0x5b137b(0x18b),espEnabled);break;case _0x5b137b(0x1c2):aimbotEnabled=!aimbotEnabled,showMsg('Aimbot',aimbotEnabled);break;case _0x5b137b(0x187):dialogEl[_0x5b137b(0x17c)]['display']=dialogEl['style'][_0x5b137b(0x19f)]===''?'none':'',window['open'](_0x5b137b(0x185),_0x5b137b(0x199));break;case'KeyL':aimbotOnRightMouse=!aimbotOnRightMouse,showMsg('Aimbot\x20On\x20Right\x20Mouse\x20Hold',aimbotOnRightMouse);break;case _0x5b137b(0x17b):espLinesEnabled=!espLinesEnabled,showMsg(_0x5b137b(0x1c1),espLinesEnabled);break;}});function showMsg(_0x1dd377,_0x3148ff){const _0x375fed=_0x41864a;msgEl[_0x375fed(0x1ca)]=_0x1dd377+':\x20'+(_0x3148ff?'ON':_0x375fed(0x1b5)),msgEl[_0x375fed(0x17c)][_0x375fed(0x19f)]=_0x375fed(0x18a),void msgEl['offsetWidth'],msgEl[_0x375fed(0x17c)][_0x375fed(0x19f)]='';}animate();
